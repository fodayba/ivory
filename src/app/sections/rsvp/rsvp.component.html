<section class="py-32 relative overflow-hidden bg-gradient-to-b from-white via-primary-50/10 to-white">
    <!-- Decorative Background Elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-0 left-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"></div>
        <div class="absolute bottom-0 right-0 w-96 h-96 bg-primary-100/30 rounded-full blur-3xl transform translate-x-1/2 translate-y-1/2"></div>
    </div>

    <div class="container mx-auto px-4">
        <!-- Section Title -->
        <div class="text-center mb-20">
            <h2 class="font-cursive text-6xl md:text-7xl text-primary-900 mb-6">RSVP</h2>
            <div class="w-32 h-px bg-gradient-to-r from-transparent via-primary-500 to-transparent mx-auto mb-8"></div>
            <p class="text-xl text-primary-700 max-w-2xl mx-auto">
                Please let us know if you'll be joining us on our special day.
                <br>
                <span class="text-primary-600 font-medium">Kindly respond by November 19, 2024</span>
            </p>
        </div>

        <!-- RSVP Form -->
        <div class="max-w-2xl mx-auto">
            <form [formGroup]="rsvpForm" (ngSubmit)="onSubmit()" 
                  class="bg-white rounded-2xl shadow-xl p-10 relative overflow-hidden">
                <!-- Decorative Elements -->
                <div class="absolute top-0 right-0 w-32 h-32 bg-primary-100/30 rounded-full blur-2xl transform translate-x-1/2 -translate-y-1/2"></div>
                <div class="absolute bottom-0 left-0 w-32 h-32 bg-primary-100/30 rounded-full blur-2xl transform -translate-x-1/2 translate-y-1/2"></div>
                
                <!-- Form Fields -->
                <div class="space-y-8 relative">
                    <!-- Name Field -->
                    <div class="form-group">
                        <label for="name" class="block text-primary-900 font-medium mb-2">Full Name</label>
                        <input type="text" id="name" formControlName="name"
                               class="w-full px-4 py-3 rounded-lg bg-primary-50/30 border-2 border-transparent
                                      focus:border-primary-300 focus:ring-2 focus:ring-primary-200 outline-none
                                      transition-all placeholder-primary-300"
                               [class.border-red-300]="rsvpForm.get('name')?.invalid && rsvpForm.get('name')?.touched"
                               placeholder="Enter your full name">
                        <div *ngIf="rsvpForm.get('name')?.invalid && rsvpForm.get('name')?.touched" 
                             class="text-red-500 text-sm mt-1 ml-1">
                            Please enter your name
                        </div>
                    </div>

                    <!-- Email Field -->
                    <div class="form-group">
                        <label for="email" class="block text-primary-900 font-medium mb-2">Email Address</label>
                        <input type="email" id="email" formControlName="email"
                               class="w-full px-4 py-3 rounded-lg bg-primary-50/30 border-2 border-transparent
                                      focus:border-primary-300 focus:ring-2 focus:ring-primary-200 outline-none
                                      transition-all placeholder-primary-300"
                               [class.border-red-300]="rsvpForm.get('email')?.invalid && rsvpForm.get('email')?.touched"
                               placeholder="Enter your email address">
                        <div *ngIf="rsvpForm.get('email')?.invalid && rsvpForm.get('email')?.touched" 
                             class="text-red-500 text-sm mt-1 ml-1">
                            Please enter a valid email address
                        </div>
                    </div>

                    <!-- Phone Field -->
                    <div class="form-group">
                        <label for="phone" class="block text-primary-900 font-medium mb-2">Phone Number</label>
                        <input type="tel" id="phone" formControlName="phone"
                               class="w-full px-4 py-3 rounded-lg bg-primary-50/30 border-2 border-transparent
                                      focus:border-primary-300 focus:ring-2 focus:ring-primary-200 outline-none
                                      transition-all placeholder-primary-300"
                               [class.border-red-300]="rsvpForm.get('phone')?.invalid && rsvpForm.get('phone')?.touched"
                               placeholder="Enter your phone number">
                        <div *ngIf="rsvpForm.get('phone')?.invalid && rsvpForm.get('phone')?.touched" 
                             class="text-red-500 text-sm mt-1 ml-1">
                            Please enter a valid phone number
                        </div>
                    </div>

                    <!-- Attendance Radio -->
                    <div class="form-group">
                        <label class="block text-primary-900 font-medium mb-4">Will you be attending?</label>
                        <div class="flex flex-col sm:flex-row gap-4">
                            <label class="flex items-center cursor-pointer group">
                                <input type="radio" [value]="true" formControlName="attending"
                                       class="w-5 h-5 text-primary-600 focus:ring-primary-500">
                                <span class="ml-3 text-primary-700 group-hover:text-primary-900 transition-colors">
                                    Yes, I will attend
                                </span>
                            </label>
                            <label class="flex items-center cursor-pointer group">
                                <input type="radio" [value]="false" formControlName="attending"
                                       class="w-5 h-5 text-primary-600 focus:ring-primary-500">
                                <span class="ml-3 text-primary-700 group-hover:text-primary-900 transition-colors">
                                    No, I cannot attend
                                </span>
                            </label>
                        </div>
                    </div>

                    <!-- Plus One Checkbox -->
                    <div class="form-group" *ngIf="rsvpForm.get('attending')?.value">
                        <label class="flex items-center cursor-pointer group">
                            <input type="checkbox" formControlName="plusOne"
                                   class="w-5 h-5 text-primary-600 focus:ring-primary-500 rounded">
                            <span class="ml-3 text-primary-700 group-hover:text-primary-900 transition-colors">
                                I will bring a plus one
                            </span>
                        </label>
                        <p class="text-primary-600/80 text-sm mt-2 ml-8">Please note: This is an adults-only celebration</p>
                    </div>

                    <!-- Message -->
                    <div class="form-group">
                        <label for="message" class="block text-primary-900 font-medium mb-2">Message (Optional)</label>
                        <textarea id="message" formControlName="message" rows="4"
                                  class="w-full px-4 py-3 rounded-lg bg-primary-50/30 border-2 border-transparent
                                         focus:border-primary-300 focus:ring-2 focus:ring-primary-200 outline-none
                                         transition-all placeholder-primary-300 resize-none"
                                  placeholder="Leave a message for the couple"></textarea>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" 
                            [disabled]="!rsvpForm.valid || isSubmitting"
                            class="w-full bg-primary-600 text-white py-4 px-8 rounded-lg font-medium
                                   hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2
                                   disabled:opacity-50 disabled:cursor-not-allowed
                                   transition-all duration-300 transform hover:scale-[1.02]
                                   relative">
                        <span [class.opacity-0]="isSubmitting">Send RSVP</span>
                        <div *ngIf="isSubmitting" 
                             class="absolute inset-0 flex items-center justify-center">
                            <svg class="animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                                <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                                <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                            </svg>
                        </div>
                    </button>

                    <!-- Success Message -->
                    <div *ngIf="submitSuccess"
                         class="mt-4 p-4 bg-green-50 border border-green-200 rounded-lg text-green-700 text-center animate-fade-in">
                        Thank you for your RSVP! We've received your response and look forward to celebrating with you.
                    </div>

                    <!-- Error Message -->
                    <div *ngIf="submitError"
                         class="mt-4 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700 text-center animate-fade-in">
                        Sorry, there was an error submitting your RSVP. Please try again or contact us directly.
                    </div>
                </div>
            </form>
        </div>
    </div>
</section>
